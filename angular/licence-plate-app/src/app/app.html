<main class="container">
    <article class="licence-plate-container">
        <section class="form-section">
            <h1>Kennzeichen überprüfen</h1>
            <p class="subtitle">Überprüfen Sie die Gültigkeit Ihres Wunschkennzeichens</p>

            <form [formGroup]="form" (ngSubmit)="validatePlate()">
                <fieldset>
                    <div class="licence-plate-input">
                        <input
                            id="city-code"
                            type="text"
                            formControlName="cityCode"
                            placeholder="B"
                            maxlength="3"
                            class="distinguisher-input"
                            (input)="onCityCodeInput($event)"
                            aria-label="City code"
                        />
                        <input
                            id="letters"
                            type="text"
                            formControlName="letters"
                            placeholder="AB"
                            maxlength="2"
                            class="identifier-input"
                            (input)="onLettersInput($event)"
                            aria-label="Letters"
                        />
                        <input
                            id="numbers"
                            type="text"
                            formControlName="numbers"
                            placeholder="1234"
                            maxlength="4"
                            class="numbers-input"
                            (keyup.enter)="validatePlate()"
                            aria-label="Numbers"
                        />
                    </div>
                    <div class="button-wrapper">
                        <button type="submit" [disabled]="isLoading || form.invalid"
                                aria-label="Validate licence plate">
                            {{ isLoading ? 'Prüfe...' : 'Gültigkeit prüfen' }}
                        </button>
                    </div>
                </fieldset>
            </form>

            @if (error) {
                <div class="error-message" role="alert">
                    <p>{{ error }}</p>
                </div>
            }

            @if (validationResult) {
                <div class="result-section">
                    <article class="result-card">
                        <h3>Ergebnis</h3>
                        <div class="plate-display">
                            <code>{{ validationResult }}</code>
                        </div>
                        <p class="success-text">✓ Kennzeichen ist valide</p>
                    </article>
                </div>
            }
        </section>

        <section class="info-section">
            <details>
                <summary>Hinweise zum Kennzeichen</summary>
                <p>Deutsche (zivile) Kennzeichen bestehen aus:</p>
                <ul>
                    <li><strong>Unterscheidungszeichen:</strong> Zulassungsbezirk (1–3 Buchstaben)</li>
                    <li><strong>Erkennungsnummer:</strong> 1–2 Buchstaben + 1–4 Ziffern</li>
                    <li><strong>Zusatzkennzeichen (optional):</strong> „H" (historisch) oder „E" (elektrisch)</li>
                </ul>
                <p><strong>Beispiel:</strong> B-AB 1234 (Berlin)</p>
                <p>
                    Die Zuteilung und Verwendung von Kennzeichenkombinationen, die gegen die
                    guten Sitten verstoßen oder geeignet sind, Anstoß zu erregen, ist unzulässig.
                    Hierzu zählen insbesondere Kombinationen mit beleidigenden, diskriminierenden,
                    extremistischen, verfassungsfeindlichen oder sonst sittlich anstößigen Inhalten
                    (zB. herabwürdigende Wortfolgen, bekannte verbotene Abkürzungen oder Codes).
                </p>
                <p>
                    Die zuständige Zulassungsbehörde kann derartige Kombinationen ablehnen oder
                    entziehen. Nutzerinnen und Nutzer sind verpflichtet, bei der Auswahl und Eingabe
                    von Wunschkennzeichen auf die Einhaltung der rechtlichen Vorgaben und der
                    guten Sitten zu achten.
                </p>
            </details>
        </section>
    </article>
</main>
